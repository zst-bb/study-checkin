<view class="page">
  <view class="header">
    <text class="title">学习打卡</text>
    <text class="subtitle">坚持每天进步一点点</text>
  </view>

  <view class="card">
    <view class="card-title">今日目标</view>
    <view class="field">
      <text class="label">目标名称</text>
      <input
        class="input"
        value="{{goalTitle}}"
        placeholder="例如：英语学习"
        bindinput="onGoalTitleInput"
      />
    </view>
    <view class="field">
      <text class="label">每日时长(分钟)</text>
      <input
        class="input"
        type="number"
        value="{{goalDailyMinutes}}"
        bindinput="onGoalMinutesInput"
      />
    </view>
    <button class="btn secondary" bindtap="saveGoal">保存目标</button>
  </view>

  <view class="card">
    <view class="stats-row">
      <view class="stat">
        <text class="stat-value">{{todayMinutes}}</text>
        <text class="stat-label">今日学习(分)</text>
      </view>
      <view class="stat">
        <text class="stat-value">{{streakDays}}</text>
        <text class="stat-label">连续打卡(天)</text>
      </view>
    </view>
    <button class="btn primary" bindtap="onCheckin" disabled="{{todayChecked}}">
      {{todayChecked ? "今日已打卡" : "立即打卡"}}
    </button>
  </view>

  <view class="card">
    <view class="card-title">专注计时</view>
    <view class="timer">{{timerDisplay}}</view>
    <view class="timer-actions">
      <button class="btn secondary" bindtap="startTimer" disabled="{{timerRunning}}">开始</button>
      <button class="btn secondary" bindtap="stopTimer" disabled="{{!timerRunning}}">结束</button>
    </view>
  </view>

  <button class="btn ghost" bindtap="goStats">查看统计</button>
</view>
